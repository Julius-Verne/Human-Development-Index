library(readxl)
library(tidyverse)
library(ggplot2)
library(here)
excel_sheets(here("input-data","2018_statistical_annex_all.xlsx"))
read_excel(here("input-data","2018_statistical_annex_all.xlsx"))
test <- read_excel(here("input-data","2018_statistical_annex_all.xlsx"))
View(test)
test <- read_excel(here("input-data","2018_statistical_annex_all.xlsx"), sheet = "HDI")
test <- read_excel(here("input-data","HDI_1.xlsx"), sheet = "HDI")
View(test)
test <- read_excel(here("input-data","HDI_1.xlsx"), sheet = "HDI")
View(test)
HDI_2017 <- read_excel(here("input-data","HDI_1.xlsx"), sheet = "HDI")
MEAS_2017 <- read_excel(here("input-data","HDI_1.xlsx"), sheet = "Measurements")
View(MEAS_2017)
REG_2017 <- read_excel(here("input-data","HDI_1.xlsx"), sheet = "Regions")
View(REG_2017)
HDI_TIME <- read_excel(here("input-data","HDI_2.xlsx"), sheet = "HDI")
HDI_TIME <- read_excel(here("input-data","HDI_2.xlsx"), sheet = "HDI_Time")
View(HDI_TIME)
MEAS_TIME <- read_excel(here("input-data","HDI_2.xlsx"), sheet = "Measurements")
REG_TIME <- read_excel(here("input-data","HDI_2.xlsx"), sheet = "Region")
REG_TIME <- read_excel(here("input-data","HDI_2.xlsx"), sheet = "Regions")
View(REG_TIME)
library(readxl)
library(tidyverse)
library(ggplot2)
library(here)
source(here("input-data","importing.R"))
source(here("input-data","wrangling"))
library(readxl)
library(tidyverse)
library(ggplot2)
library(here)
source(here("scripts","importing.R"))
source(here("scripts","wrangling"))
summary(HDI_2017)
?as.factor()
HDI_2017$`HDI rank 2017` <- as.factor(as.character(HDI_2017$`HDI rank 2017`))
summary(HDI_2017)
HDI_2017$Country <- as.factor(as.character(HDI_2017$Country))
summary(HDI_2017)
str(HDI_2017)
HDI_2017$`HDI rank 2017` <- as.numeric(as.character(HDI_2017$`HDI rank 2017`))
HDI_2017$Country <- as.factor(as.character(HDI_2017$Country))
summary(HDI_2017)
View(HDI_2017)
HDI_2017$`HDI rank 2016` <- as.numeric(as.character(HDI_2017$`HDI rank 2016`))
library(dplyr)
library(sf)
library(rnaturalearth)
install.packages("rnaturalearth")
library(rnaturalearth)
#get some world data and geometries from Natural Earth
#exclude Antarctica
world <- st_as_sf(countries110) %>%
filter(sovereignt!="Antarctica")
View(world)
test$Country <- world$formal_en
Country <- world$formal_en
test <- data.frame(country)
test <- data.frame(Country)
View(test)
write_csv(test, here("output-data", "names.csv"))
Country <- world$name
test <- data.frame(Country)
write_csv(test, here("output-data", "names.csv"))
names <- read_csv(here("input-data","Names.csv"))
View(names)
world <- left_join(world, names, by = c("name"="names"))
names <- read_csv(here("input-data","Names.csv"))
world <- left_join(world, names, by = c("name"="names"))
#get some world data and geometries from Natural Earth
#exclude Antarctica
world <- st_as_sf(countries110) %>%
filter(sovereignt!="Antarctica")
names <- read_csv(here("input-data","Names.csv"))
world <- left_join(world, names, by = c("name"="names"))
world.birth.rates <- left_join(world, HDI_2017, by=c("HDI_NAMES"="Country"))
HDI_2017 <- read_excel(here("input-data","HDI_1.xlsx"), sheet = "HDI")
MEAS_2017 <- read_excel(here("input-data","HDI_1.xlsx"), sheet = "Measurements")
REG_2017 <- read_excel(here("input-data","HDI_1.xlsx"), sheet = "Regions")
world.birth.rates <- left_join(world, HDI_2017, by=c("HDI_NAMES"="Country"))
View(world.birth.rates)
library(viridis)
library(ggrepel)
ggplot(world.birth.rates) +
geom_sf(data=world, col="grey", fill=NA) +
geom_sf(col="grey", aes(fill=`Human Development Index (HDI) 2017`)) +
coord_sf(crs="+proj=robin") +
scale_fill_viridis(option = "magma",
name='Births \nper 1000 \npeople',
direction = -1) +
theme_minimal() +
theme(panel.grid.major = element_line(colour = "transparent"),
axis.text.x = element_blank(),
axis.text.y = element_blank())+
labs(x=NULL,
y=NULL,
title="World birth rates in countries by income, 2016",
subtitle="Course \"Introduction to R for Journalists\"",
caption='Source: Gender Statistics, The World Bank. Map: Natural Earth.')
ggplot(world.birth.rates) +
geom_sf(data=world, col="grey", fill=NA) +
geom_sf(col="grey", aes(fill=`Human Development Index (HDI) 2017`)) +
coord_sf(crs="+proj=robin") +
scale_fill_viridis(option = "magma",
name='Human \nDevelopment \nIndex',
direction = -1) +
theme_minimal() +
theme(panel.grid.major = element_line(colour = "transparent"),
axis.text.x = element_blank(),
axis.text.y = element_blank())+
labs(x=NULL,
y=NULL,
title="World birth rates in countries by income, 2016",
subtitle="Course \"Introduction to R for Journalists\"",
caption='Source: Gender Statistics, The World Bank. Map: Natural Earth.')
ggplot(world.birth.rates) +
geom_sf(data=world, col="grey", fill=NA) +
geom_sf(col="grey", aes(fill=`Human Development Index (HDI) 2017`)) +
coord_sf(crs="+proj=robin") +
scale_fill_viridis(option = "plasma",
name='Human \nDevelopment \nIndex',
direction = -1) +
theme_minimal() +
theme(panel.grid.major = element_line(colour = "transparent"),
axis.text.x = element_blank(),
axis.text.y = element_blank())+
labs(x=NULL,
y=NULL,
title="World birth rates in countries by income, 2016",
subtitle="Course \"Introduction to R for Journalists\"",
caption='Source: Gender Statistics, The World Bank. Map: Natural Earth.')
